# create plumber.R with packages

    Code
      cat(readr::read_lines(file.path(tmp_dir, "Dockerfile")), sep = "\n")
    Output
      # Generated by the vetiver package; edit with care
      
      FROM rstudio/plumber:latest
      
      RUN apt-get update -qq && apt-get install -y --no-install-recommends \
        git \
        libcurl4-openssl-dev \
        zlib1g-dev \
        libsodium-dev \
        libicu-dev \
        make \
        libssl-dev \
        libgit2-dev
      
      ARG RENV_REF=main
      RUN Rscript -e "remotes::install_github('rstudio/renv@${RENV_REF}')"
      
      COPY <redacted>/renv.lock /opt/ml/renv.lock
      COPY <redacted>/plumber.R /opt/ml/plumber.R
      
      RUN R -e "renv::restore()"
      
      CMD ["/opt/ml/plumber.R"]

# create plumber.R with no packages

    Code
      cat(readr::read_lines(file.path(tmp_dir, "Dockerfile")), sep = "\n")
    Output
      # Generated by the vetiver package; edit with care
      
      FROM rstudio/plumber:latest
      
      RUN apt-get update -qq && apt-get install -y --no-install-recommends \
        git \
        libcurl4-openssl-dev \
        libsodium-dev \
        libicu-dev \
        make \
        libssl-dev \
        libgit2-dev
      
      ARG RENV_REF=main
      RUN Rscript -e "remotes::install_github('rstudio/renv@${RENV_REF}')"
      
      COPY <redacted>/renv.lock /opt/ml/renv.lock
      COPY <redacted>/plumber.R /opt/ml/plumber.R
      
      RUN R -e "renv::restore()"
      
      CMD ["/opt/ml/plumber.R"]

